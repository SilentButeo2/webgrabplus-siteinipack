**------------------------------------------------------------------------------------------------
* @header_start
* WebGrab+Plus ini for grabbing EPG data from TvGuide websites
* @Site: sumtv.org
* @MinSWversion: V5.5
* @Revision 0 - [25/10/2025] Blackbear199
*   creation
* @Remarks:
* @header_end
**------------------------------------------------------------------------------------------------
site {url=sumtv.org|timezone=US/Pacific|maxdays=31|cultureinfo=en-US|charset=UTF-8|titlematchfactor=90|keepindexpage}
site {episodesystem=onscreen}
*
scope.range {(urlindex)|end}
url_index {url|https://proweb.myersinfosys.com/sumtv/day?date=|urldate|&nocache=1zt2v}
url_index.headers {customheader=Accept-Encoding=gzip,deflate,br}
*
global_temp_1.modify {set|'config_site_id'}
*
urldate.format {datestring|yyyy-MM-dd}
end_scope
*
index_urlchannellogo.modify {set(scope=datelogo)|https://sumtv.org/assets/images/logo/logo-sumtv.svg}
*
scope.range {(splitindex)|end}
index_showsplit.scrub {regex||channel="'global_temp_1'">(?:.*?)(?:<div class='channel-row__block'[^>]*>(.*?</div>[^<]*</div>[^<]*</div>)(?:.*?))*[^<]*</div>[^<]*</div>||}
index_temp_9.modify {substring(type=regex)|'index_showsplit' "<strong>(\d+:\d+[ap]m)<\/strong>"}
index_temp_9.modify {cleanup(removeduplicates span=1 link="index_showsplit")}
*index_showsplit.modify {(debug)}
end_scope
*
scope.range {(indexshowdetails)|end}
index_start.scrub {single(pattern="h:mmtt")|<strong>||</strong>|</strong>}
index_duration.scrub {single|data-duration='||'|'}
index_title.scrub {single|<h3>||</h3>|</h3>}
index_subtitle.scrub {single|<h4>||</h4>|</h4>}
index_description.scrub {single|<p class="popup__body--description--text">||</p>|</p>}
*
index_duration.modify {calculate(format=F0)|60 /}
index_category.modify {set|Religion}
*
if {('global_temp_1' ~ "Latino")|end}
index_title.modify {addend|(lang=es)}
index_subtitle.modify {addend(not "")|(lang=es)}
index_description.modify {addend(not "")|(lang=es)}
index_category.modify {addend|(lang=es)}
end_if
end_scope
**  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _
**      #####  CHANNEL FILE CREATION (only to create the xxx-channel.xml file)
**
** @auto_xml_channel_start
*scope.range {(channellist)|end}
*index_site_id.scrub {multi|<div class="channel-row channel-row__dark"|channel="|"|>}
*index_site_channel.scrub {multi|<div class="schedule-grid__print-only channel-row__title">|<h3>|</h3>|</div>}
*index_site_id.modify {cleanup(removeduplicates link="index_site_channel")}
*end_scope
** @auto_xml_channel_end

