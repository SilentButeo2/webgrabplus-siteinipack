**------------------------------------------------------------------------------------------------
* @header_start
* WebGrab+Plus ini for grabbing EPG data from TvGuide websites
* @Site: squirrel2.tv
* @MinSWversion: V5.0
* @Revision 1  - [03/01/2026] Mat8861
* @Revision 0 - [07/01/2025] Blackbear199
*   - creation
* @Remarks: set timezone on site {xx} line to timezone of pc running webgrab
* @header_end
**------------------------------------------------------------------------------------------------
site {url=squirrel2.tv|timezone=Europe/Madrid|maxdays=7.1|cultureinfo=es-ES|charset=UTF-8|titlematchfactor=90}
site {ratingsystem=ES|episodesystem=onscreen}
*
scope.range {(urlindex)|end}
url_index {url|https://squirrel2.tv}
url_index.headers {method=POST_BACK(GET,POST)}
url_index.headers {postdata=days=7}
url_index.headers {customheader=Origin=https://squirrel2.tv}
url_index.headers {customheader=x-requested-with=XMLHttpRequest}
url_index.headers {customheader=Accept-Encoding=gzip,deflate,br}
end_scope
*
scope.range {(postback)|end}
url_index.modify {set|https://squirrel2.tv/php/getSchedule.php}
end_scope
*
urldate.format {datestring|dd-MM-yyyy}
index_showsplit.scrub {regex||<div id=\\"item_\d{4}-.+?<\\/div>[^<]*<\\/div>[^<]*<\\/div>||}
index_showsplit.modify {remove|\\n}
index_showsplit.modify {cleanup(style=unidecode)}
index_showsplit.modify {cleanup(style=jsondecode)}
**index_showsplit.modify {(debug)}
*
index_start.scrub {single|<div id="item_||"|"}
index_title.scrub {single|<p class="pItemPrograma"|>|</p>|</p>}
index_description.scrub {single)|<input type="hidden" name="showText" id="showText" value="||">|">}
index_showicon.scrub {single|id="showIMG" value="||"|"}
*
index_description.modify {remove('index_urlshow' not "")|'index_description'}
index_showicon.modify {addstart(not "")|https://squirrel2.tv/img/films/}
*
index_urlshow {url(exclude="show")|https://squirrel2.tv/|<input type="hidden" name="showURL" id="showURL" value="||"|"}
index_urlshow.headers {customheader=Accept-Encoding=gzip,deflate,br
*
title.modify{addend|'index_title'}

description.scrub {single('index_description' "")|<div class="pSinop">||</div>|</div>}
category.scrub {single(separator=",")|<p class="pDato">|<strong>|</strong>|</p>}
director.scrub {single(separator=",")|Director </strong>||</p>|</p>}
actor.scrub {single(separator=",")|Reparto </strong>||</p>|</p>}
rating.scrub {single|<p class="pLast">|(|)|</p>}
productiondate.scrub {single|<p class="pDato">|<strong>|</strong>|</p>}
*
description.modify {cleanup(tags="<"">")}
category.modify {remove('productiondate' not "")|'productiondate'}
actor.modify {remove(type=regex)|"\.\s*$"}

*
**  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _
**      #####  CHANNEL FILE CREATION (only to create the xxx-channel.xml file)
**
** @auto_xml_channel_start
*index_site_id.scrub {|}
*index_site_id.modify {set|squirrel2tv}
*index_site_channel.modify {set|Squirrel 2 TV}
** @auto_xml_channel_end

