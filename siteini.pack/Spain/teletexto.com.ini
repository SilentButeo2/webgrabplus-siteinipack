**------------------------------------------------------------------------------------------------
* @header_start
* WebGrab+Plus ini for grabbing EPG data from TvGuide websites
* @Site: teletexto.com
* @MinSWversion: V5.0
* @Revision 0 - [05/09/2025] Blackbear199
*  - creation
* @Remarks:
* @header_end
**------------------------------------------------------------------------------------------------
site {url=teletexto.com|timezone=Europe/Madrid|maxdays=3.1|cultureinfo=es-ES|charset=UTF-8|titlematchfactor=90}
site {ratingsystem=ES|episodesystem=onscreen}
*
scope.range {(urlindex)|end}
url_index {url|https://www.teletexto.com/teletexto.asp?programacion=|channel||subpage|}
url_index.headers {customheader=Accept-Encoding=gzip,deflate,br}
*
global_temp_9.modify {calculate(format=date,dddd)|'urldate' 2:0:0 +}
global_temp_9.modify {set("Mondday")|lundi}
global_temp_9.modify {set("Tuesday")|martes}
global_temp_9.modify {set("Wednesday")|miercoles}
global_temp_9.modify {set("Thursday")|jueves}
global_temp_9.modify {set("Friday")|viernes}
global_temp_9.modify {set("Saturday")|sabado}
global_temp_9.modify {set("Sunday")|domingo}

urldate.format {datestring|yyyy/MM/dd|en-GB}
subpage.format {list||&dia=manana|&dia='global_temp_9'}
end_scope
*
index_urlchannellogo.scrub {single(scope=datelogo includeblock="class=" activa"")|<li><a href="https://www.teletexto.com/teletexto.asp?programacion=|src="|"|</li>}
*
scope.range {(splitindex)|end}
index_showsplit.scrub {multi|<table class="parrilla">|<tr|</tr>|</table>}
*index_showsplit.modify {(debug)}
end_scope
*
scope.range {(indexshowdetails)|end}
index_start.scrub {single|<td>|<p>|</p>|</td>}
index_title.scrub {single|<p><strong>||</strong></p>|</strong></p>}
index_description.scrub {single|</p><p>||</td>|</td>}
*
index_start.modify {cleanup(tags="<"">")}
index_description.modify {cleanup(tags="<"">")}
end_scope
**  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _
**      #####  CHANNEL FILE CREATION (only to create the xxx-channel.xml file)
**
** @auto_xml_channel_start
*scope.range {(urlindex)|end}
*url_index {url|https://www.teletexto.com/}
*end_scope
*scope.range {(channelllist)|end}
*index_site_id.scrub {multi|Programación de Televisión</h2>|programacion=|"|</ul>}
*index_site_channel.scrub {multi|Programación de Televisión</h2>|alt="|"|</ul>}
*index_site_id.modify {cleanup(removeduplicates link="index_site_channel")}
*end_scope
** @auto_xml_channel_end
 